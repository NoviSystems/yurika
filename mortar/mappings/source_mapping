{
  "settings": {
    "number_of_shards": 5,
    "number_of_replicas": 1,
    "analysis": {
      "analyzer": {
        "standard_analyzer":{
			      "tokenizer":"standard",
			      "filter":["lowercase",        "minimal_english_stemmer"],
			      "type" : "custom",
			      "char_filter": [
              "html_strip"
            ]
         },
         "ngram_analyzer": {
            "type": "custom",
            "tokenizer": "standard",
            "filter": [
              "lowercase",
              "ngram_filter"
            ],
            "char_filter": [
              "html_strip"
            ]
         },
         "keyword_analyzer" : {
            "tokenizer":"keyword",
			      "filter":["lowercase",        "minimal_english_stemmer"],
			      "type" : "custom",
			      "char_filter": [
              "html_strip"
            ]
         }
      },
      "filter" : {
          "minimal_english_stemmer" : {
              "type" : "stemmer",
              "name" : "minimal_english"
          },
          "ngram_filter" : {
              "type": "ngram",
               "min_gram": 2,
               "max_gram": 8
          }
      }
    }
  },
  "mappings": {
  	"doc": {
      "_source": {
        "enabled": true
      },
      "properties": {
        "url" : {
            "type" : "text",
            "analyzer" : "keyword"
        },
        "refer_url" : {
            "type" : "text",
            "analyzer" : "keyword"
        },
        "content" : {
            "fields" : {
                  "raw" : {
                      "type" : "text",
                      "analyzer" : "keyword"
                  },
                  "keyword_tokenized" : {
                    "type" : "text",
                    "analyzer" : "keyword_analyzer"
                  },
                  "standard_tokenized" : {
                    "type" : "text",
                    "analyzer" : "standard_analyzer"
                  },
                  "ngram_tokenized" : {
                    "type" : "text",
                    "analyzer" : "ngram_analyzer"
                  }
            }  
        },
        "tstamp" : {
            "type":   "date",
            "format": "yyyy-MM-dd HH:mm:ss||yyyy-MM-dd||epoch_millis"
        },
        "title" : {
            "type" : "text",
            "analyzer" : "keyword"
        }
      }
    }   
  }
}

